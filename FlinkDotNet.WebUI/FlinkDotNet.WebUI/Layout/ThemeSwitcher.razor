@using Microsoft.FluentUI.AspNetCore.Components
@using FlinkDotNet.WebUI.Services
@inject ThemeService ThemeService

<FluentStack Orientation="Orientation.Horizontal" VerticalAlignment="VerticalAlignment.Center" Gap="10">
    <FluentLabel>Light</FluentLabel>
    <FluentSwitch CurrentValue="@(ThemeService.CurrentLuminance == StandardLuminance.DarkMode)"
                  CurrentValueChanged="@((bool val) => OnThemeToggleClicked(val))"
                  Label="Theme"
                  HideLabel="true" />
    <FluentLabel>Dark</FluentLabel>
</FluentStack>

@code {
    private async Task OnThemeToggleClicked(bool isDark)
    {
        await ThemeService.SetLuminanceAsync(isDark ? StandardLuminance.DarkMode : StandardLuminance.LightMode);
    }
}
